<nav>
<style>
.notif {
  position: relative;
}
.round {
  display: none;
  position: absolute;
  top: -10px;
  right: 10px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: red;
}
</style>
  <div class="left">
    <a href="/"><img src="/logo-blue.png" alt="Intrasudo"/></a>
  </div>
  <div class="right">
    <a href="/leaderboard">Leaderboard</a>
    <% if(authenticated) { %> <% if(!user.finished) { %>
    <a href="/play">Play</a>
    <a href="//exun.co/22/intrasudo" target="_blank">Discord</a>
    <% } %> <% if(user.admin) { %>
    <a href="/levels">Levels</a>
    <% } %>
    <a href="/auth/logout">Logout</a>
    <a href="/notifications" class="notif"><svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M5.6 9.45798V8.4C5.6 4.86538 8.46538 2 12 2C15.5346 2 18.4 4.86537 18.4 8.4V9.45798C18.4 11.7583 19.0649 14.0096 20.3146 15.9409L21 17H3L3.68539 15.9408C4.93512 14.0096 5.6 11.7583 5.6 9.45798Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M11 20.8889V20.8889C11.5344 21.4827 12.4656 21.4827 13 20.8889V20.8889" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg><div class="round"></div>
    </a>
    <% } %>
  </div>
  <% if(authenticated) { %>
    <script src="/socket.io/socket.io.js"></script>
      <script>
        var socket = io();

        if (parseInt(<%= last_notif_id %>) > parseInt(localStorage.getItem("INTRA_LAST_NOTIF_ID"))) {
            document.querySelector(".round").style.display = "inline-block";
        }

        socket.on("notifs:update", (msg) => {
          console.log(msg);
          document.querySelector(".round").style.display = "inline-block";
        })
  </script><% } %>
</nav>
